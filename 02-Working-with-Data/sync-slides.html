<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="author" content="Week 02 - sync session">
  <title>Fundamentals of Data Engineering</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="reveal.js/css/reveal.css">
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" href="reveal.js/css/theme/mids.css" id="theme">
  <!-- Printing and PDF exports -->
  <script>
    var link = document.createElement( 'link' );
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match( /print-pdf/gi ) ? 'reveal.js/css/print/pdf.css' : 'reveal.js/css/print/paper.css';
    document.getElementsByTagName( 'head' )[0].appendChild( link );
  </script>
  <!--[if lt IE 9]>
  <script src="reveal.js/lib/js/html5shiv.js"></script>
  <![endif]-->
</head>
<body>
  <div class="reveal">
    <div class="slides">

<section>
  <h1 class="title">Fundamentals of Data Engineering</h1>
  <h2 class="author">Week 02 - sync session</h2>
  <img class="frontPageSlogan" src="http://people.ischool.berkeley.edu/~mark.mims/course-development/2017-mids-w205/media/datascience-at-berkeley.png"/>
</section>

<section id="section" class="slide level1">
<h1></h1>
<section id="assignment-1" class="level2">
<h2>Assignment 1</h2>
<ul>
<li>Breakout</li>
<li>Questions on process?</li>
</ul>
</section>
<section id="your-cloud-instance-set-up" class="level2">
<h2>Your cloud instance set up</h2>
<ul>
<li>repos cloned:
<ul>
<li><code>course-content</code></li>
<li><code>assignment-01-&lt;user-name&gt;</code></li>
</ul></li>
</ul>
</section>
<section id="how-to-do-a-pr" class="level2">
<h2>How to do a PR</h2>
<ul>
<li>Review process from gui</li>
</ul>
<aside class="notes">
<p>we defer cli-support for this until next week</p>
</aside>
</section>
</section>
<section id="section-1" class="slide level1">
<h1></h1>
<section id="some-things-about-this-class" class="level2">
<h2>Some things about this class</h2>
</section>
<section id="pacing" class="level2">
<h2>Pacing</h2>
<ul>
<li>What you can do</li>
<li>What you can understand</li>
</ul>
<aside class="notes">
<p>We’ll be reading/watching screencasts ahead of what we can do</p>
</aside>
</section>
</section>
<section id="section-2" class="slide level1">
<h1></h1>
<section id="where-are-we-in-the-pipeline" class="level2">
<h2>Where are we in the pipeline</h2>
<p><img data-src="images/pipeline-overall.svg" /></p>
</section>
<section id="main-thing-to-pay-attention-to" class="level2">
<h2>Main thing to pay attention to</h2>
<ul>
<li>Pipeline is provided for this example</li>
<li>We’re <em>using</em> it to answer business questions</li>
</ul>
<aside class="notes">
<p>How would we build this ourselves?</p>
</aside>
</section>
</section>
<section id="section-3" class="slide level1">
<h1></h1>
<section id="business-decisions" class="level2">
<h2>Business Decisions</h2>
<ul>
<li><p>All about the business</p></li>
<li><p>Data-Driven Business Decisions …are queries</p></li>
</ul>
<aside class="notes">
<p>in order for business decisions to be based on data, you have to be able to interact with the data.</p>
<p>business requirements get encoded as queries of data</p>
</aside>
</section>
<section id="translation" class="level2">
<h2>Translation</h2>
<ul>
<li>SQL queries are really pretty easy</li>
<li>How to get to the queries from the questions, sometimes not so much</li>
</ul>
</section>
</section>
<section id="section-4" class="slide level1">
<h1></h1>
<section id="query-project" class="level2">
<h2>Query Project</h2>
<ul>
<li><p>In the Query Project, you will get practice with SQL while learning about Google Cloud Platform (GCP) and BiqQuery. You’ll answer business-driven questions using public datasets housed in GCP. To give you experience with different ways to use those datasets, you will use the web UI (BiqQuery) and the command-line tools, and work with them in jupyter notebooks.</p></li>
<li><p>We will be using the Bay Area Bike Share Trips Data (<a href="https://cloud.google.com/bigquery/public-data/bay-bike-share" class="uri">https://cloud.google.com/bigquery/public-data/bay-bike-share</a>).</p></li>
</ul>
<aside class="notes">
<p>Go over what the dataset is on the webpage</p>
</aside>
</section>
<section id="problem-statement" class="level2">
<h2>Problem Statement</h2>
<ul>
<li><p>You’re a data scientist at Ford GoBike (<a href="https://www.fordgobike.com/" class="uri">https://www.fordgobike.com/</a>), the company running Bay Area Bikeshare. You are trying to increase ridership, and you want to offer deals through the mobile app to do so. What deals do you offer though? Currently, your company has three options:</p></li>
<li>a flat price for a single one-way trip,</li>
<li>a day pass that allows unlimited 30-minute rides for 24 hours,</li>
<li><p>and an annual membership.</p></li>
</ul>
</section>
<section id="questions" class="level2">
<h2>Questions</h2>
<ul>
<li>Through this project, you will answer these questions:
<ul>
<li>What are the 5 most popular trips that you would call “commuter trips”?</li>
<li>What are your recommendations for offers (justify based on your findings)?</li>
</ul></li>
</ul>
<aside class="notes">
<p>You will not answer these questions this week just answer the questions assigned for this week</p>
</aside>
</section>
<section id="working-with-bq-gui" class="level2">
<h2>Working with BQ gui</h2>
<p><a href="https://console.cloud.google.com/bigquery" class="uri">https://console.cloud.google.com/bigquery</a></p>
</section>
<section id="tutorial" class="level2">
<h2>Tutorial</h2>
<p><a href="https://www.w3schools.com/sql/default.asp" class="uri">https://www.w3schools.com/sql/default.asp</a></p>
</section>
</section>
<section id="section-5" class="slide level1">
<h1></h1>
<section id="some-annoying-specific-stuff-about-bq" class="level2">
<h2>Some annoying specific stuff about BQ</h2>
</section>
<section id="the" class="level2">
<h2>the <code>;</code></h2>
<pre><code>SELECT * 
FROM Customers;</code></pre>
<p>VS</p>
<pre><code>SELECT * 
FROM Customers</code></pre>
<aside class="notes">
<ul>
<li>Nearly all other sql implementations (and what you will see in the tutorial), end statements with a <code>;</code></li>
<li>BQ doesn’t</li>
<li>btw, the CAPITALIZATION isn’t necessary :)</li>
</ul>
</aside>
</section>
<section id="legacy-vs-standard-sql" class="level2">
<h2>Legacy vs Standard SQL</h2>
<pre><code>SELECT *
FROM [bigquery-public-data:san_francisco.bikeshare_trips]</code></pre>
<p>VS</p>
<pre><code>#standardSQL
SELECT * 
FROM `bigquery-public-data.san_francisco.bikeshare_trips`</code></pre>
<aside class="notes">
<ul>
<li>Google was going to create their own sql that worked different :)</li>
<li>It’s silly, but the way the table reference part, the “FROM” part, is written is different.</li>
<li>So, now there’s the <code>#standardSQL</code> flag</li>
</ul>
</aside>
</section>
<section id="for-this-class" class="level2">
<h2>For this class</h2>
<pre><code>#standardSQL
SELECT * 
FROM `bigquery-public-data.san_francisco.bikeshare_status`</code></pre>
<ul>
<li>More similar to command line bq</li>
<li>More like most other SQL implementations</li>
</ul>
<aside class="notes">
<p>We’re doing this one, but you can use either</p>
</aside>
</section>
</section>
<section id="section-6" class="slide level1">
<h1></h1>
<section id="events" class="level2">
<h2>Events</h2>
<ul>
<li>What sort of events feed this pipeline?</li>
<li>How were these events captured?</li>
</ul>
<aside class="notes">
<p>Fed from device events:</p>
<ul>
<li>station kiosk (?)</li>
<li>user app (?)</li>
</ul>
</aside>
</section>
</section>
<section id="section-7" class="slide level1">
<h1></h1>
<section id="querying-data" class="level2">
<h2>Querying Data</h2>
</section>
<section id="how-many-events-are-there" class="level2">
<h2>How many events are there?</h2>
<aside class="notes">
<p>For the following slides, Wait on the question slide for a minute to give everyone a chance to try it.</p>
<p>Then reveal the next slide with query.</p>
<ul>
<li><p>Optional: you can do these in groups and ask people to</p>
<ul>
<li>report out</li>
<li>share issues, false starts they ran into</li>
</ul></li>
</ul>
<p>[Obviously more useful on more complicated queries]</p>
</aside>
</section>
<section id="section-8" class="level2">
<h2></h2>
<pre><code>#standardSQL
SELECT count(*)
FROM `bigquery-public-data.san_francisco.bikeshare_status`</code></pre>
<aside class="notes">
<p>107,501,619</p>
<p>The point: you can use <code>select *</code> to actually answer questions.</p>
</aside>
</section>
<section id="how-many-stations-are-there" class="level2">
<h2>How many stations are there?</h2>
</section>
<section id="section-9" class="level2">
<h2></h2>
<pre><code>#standardSQL
SELECT count(distinct station_id)
FROM `bigquery-public-data.san_francisco.bikeshare_status`</code></pre>
<aside class="notes">
<p>The point: how to count unique Answer: something like 75</p>
</aside>
</section>
<section id="how-long-a-time-period-do-these-data-cover" class="level2">
<h2>How long a time period do these data cover?</h2>
</section>
<section id="section-10" class="level2">
<h2></h2>
<pre><code>#standardSQL
SELECT min(time), max(time)
FROM `bigquery-public-data.san_francisco.bikeshare_status`</code></pre>
<aside class="notes">
<ul>
<li>2013-08-29 12:06:01.000 UTC<br />
</li>
<li>2016-08-31 23:58:59.000 UTC<br />
</li>
</ul>
</aside>
</section>
<section id="how-many-bikes-does-station-90-have" class="level2">
<h2>How many bikes does station 90 have?</h2>
<aside class="notes">
<p>Break into groups here. Give them a few minutes, have someone from each group screen share and present their query. If they don’t tell you, ask why they made the choices they made. I decided that a station’s total bikes would <code>= docks_available + bikes_available</code>.</p>
</aside>
</section>
<section id="section-11" class="level2">
<h2></h2>
<pre><code>#standardSQL
SELECT station_id, 
(docks_available + bikes_available) as total_bikes
FROM `bigquery-public-data.san_francisco.bikeshare_status`
WHERE station_id = 90</code></pre>
<aside class="notes">
<p>Stuff to explore:</p>
<ul>
<li>each station “has” different unique numbers of bikes [probably b/c e.g., docks are added to stations, etc, etc, etc]</li>
<li><p>if you create a view, use these queries:</p>
<p>#standardSQL SELECT distinct (station_id), total_bikes FROM <code>ambient-cubist-185918.bike_trips_data.total_bikes</code></p>
<p>#standardSQL SELECT distinct station_id, total_bikes FROM <code>ambient-cubist-185918.bike_trips_data.total_bikes</code> WHERE station_id = 22</p></li>
</ul>
<p>This shows that you get multiple entries for each <code>station_id</code> b/c diff values of total bikes</p>
</aside>
</section>
<section id="independent-queries" class="level2">
<h2>Independent Queries</h2>
<p><a href="https://www.w3schools.com/sql/default.asp" class="uri">https://www.w3schools.com/sql/default.asp</a></p>
<aside class="notes">
<p>If there’s any time, break in groups to do whatever questions they come up with. Rotate between groups to see what folks are coming up with.</p>
</aside>
</section>
</section>
<section id="section-12" class="slide level1">
<h1></h1>
<section id="secureshell-ssh" class="level2">
<h2>SecureShell (SSH)</h2>
</section>
</section>
<section id="section-13" class="slide level1">
<h1></h1>
<section id="remote-terminal-connections" class="level2">
<h2>remote terminal connections</h2>
</section>
<section id="section-14" class="level2">
<h2></h2>
<pre><code>ssh science@xxx.xxx.xxx.xxx</code></pre>
<aside class="notes">
<p>for your cloud instance, look up: - the ip address - password for the <code>science</code> user</p>
</aside>
</section>
</section>
<section id="section-15" class="slide level1">
<h1></h1>
<section id="copying-files" class="level2">
<h2>copying files</h2>
</section>
<section id="section-16" class="level2">
<h2></h2>
<p>On your laptop, run</p>
<pre><code>scp some_file science@xxx.xxx.xxx.xxx:</code></pre>
<p>or</p>
<pre><code>scp some_file science@xxx.xxx.xxx.xxx:/tmp/</code></pre>
<aside class="notes">
<p>copying files from your laptop to the instance</p>
<p>note the colon!</p>
</aside>
</section>
<section id="section-17" class="level2">
<h2></h2>
<p>On your laptop, run</p>
<pre><code>scp science@xxx.xxx.xxx.xxx:~/w205/a_file.py .</code></pre>
<aside class="notes">
<p>copying files from the instance to your laptop</p>
<p>note the period!</p>
</aside>
</section>
</section>
<section id="section-18" class="slide level1">
<h1></h1>
<section id="summary" class="level2">
<h2>Summary</h2>
<ul>
<li>Business questions</li>
<li>Answered using empirical data</li>
<li>By running queries against (raw?) events</li>
<li>Need a pipeline in place to capture these raw events</li>
<li>SSH</li>
</ul>
</section>
</section>
<section id="section-19" class="slide level1">
<h1></h1>
<p><img class="logo" src="images/berkeley-school-of-information-logo.png"/></p>
</section>
    </div>
  </div>

  <script src="reveal.js/lib/js/head.min.js"></script>
  <script src="reveal.js/js/reveal.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        // Transition style
        transition: 'linear', // none/fade/slide/convex/concave/zoom

        math: {
          config: 'TeX-AMS_HTML-full'
        },

        // Optional reveal.js plugins
        dependencies: [
          { src: 'reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'reveal.js/plugin/zoom-js/zoom.js', async: true },
          { src: 'reveal.js/plugin/notes/notes.js', async: true },
          { src: 'reveal.js/plugin/math/math.js', async: true }
        ]
      });
    </script>
    </body>
</html>
